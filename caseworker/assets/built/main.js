!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={};function i(){$("table").each((function(e,t){$(t).find(".lite-button-checkbox").attr("class","lite-button-checkbox"),$(t).find("input:checkbox:checked").length==$(t).find("input:checkbox").length?$(t).find(".lite-button-checkbox").addClass("lite-button-checkbox--checked"):0!=$(t).find("input:checkbox:checked").length&&$(t).find(".lite-button-checkbox").addClass("lite-button-checkbox--indeterminate"),$(t).find(".lite-button-checkbox").css("display","none").height(),$(t).find(".lite-button-checkbox").css("display","block")}))}function o(e){e.find(".govuk-button").each((function(){enableButton($(this))}))}function r(e){e.find(".govuk-button").each((function(){disableButton($(this))}))}function s(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function a(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function l(e){var t=a(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function u(e){return e instanceof a(e).Element||e instanceof Element}function c(e){return e instanceof a(e).HTMLElement||e instanceof HTMLElement}function d(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return(u(e)?e.ownerDocument:e.document).documentElement}function p(e){return s(h(e)).left+l(e).scrollLeft}function f(e){return a(e).getComputedStyle(e)}function m(e){var t=f(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function v(e,t,n){void 0===n&&(n=!1);var i,o,r=h(t),u=s(e),f=c(t),v={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(f||!f&&!n)&&(("body"!==d(t)||m(r))&&(v=(i=t)!==a(i)&&c(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:l(i)),c(t)?((g=s(t)).x+=t.clientLeft,g.y+=t.clientTop):r&&(g.x=p(r))),{x:u.left+v.scrollLeft-g.x,y:u.top+v.scrollTop-g.y,width:u.width,height:u.height}}function g(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function y(e){return"html"===d(e)?e:e.assignedSlot||e.parentNode||e.host||h(e)}function b(e){return["html","body","#document"].indexOf(d(e))>=0?e.ownerDocument.body:c(e)&&m(e)?e:b(y(e))}function w(e,t){void 0===t&&(t=[]);var n=b(e),i="body"===d(n),o=a(n),r=i?[o].concat(o.visualViewport||[],m(n)?n:[]):n,s=t.concat(r);return i?s:s.concat(w(y(r)))}function _(e){return["table","td","th"].indexOf(d(e))>=0}function k(e){if(!c(e)||"fixed"===f(e).position)return null;var t=e.offsetParent;if(t){var n=h(t);if("body"===d(t)&&"static"===f(t).position&&"static"!==f(n).position)return n}return t}function E(e){for(var t=a(e),n=k(e);n&&_(n)&&"static"===f(n).position;)n=k(n);return n&&"body"===d(n)&&"static"===f(n).position?t:n||function(e){for(var t=y(e);c(t)&&["html","body"].indexOf(d(t))<0;){var n=f(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}!function(e,t){"object"==typeof n?t(n):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(n,(function(t){"use strict";function n(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)}function i(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=o.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(e){var t,n,i,o;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(t=Object.defineProperty,n=Object.prototype.hasOwnProperty("__defineGetter__"),i="Getters & setters cannot be defined on this javascript engine",o="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,r,s){if(t&&(e===window||e===document||e===Element.prototype||e instanceof Element))return t(e,r,s);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(s instanceof Object))throw new TypeError("Property description must be an object");var a=String(r),l="value"in s||"writable"in s,u="get"in s&&typeof s.get,c="set"in s&&typeof s.set;if(u){if("function"!==u)throw new TypeError("Getter must be a function");if(!n)throw new TypeError(i);if(l)throw new TypeError(o);Object.__defineGetter__.call(e,a,s.get)}else e[a]=s.value;if(c){if("function"!==c)throw new TypeError("Setter must be a function");if(!n)throw new TypeError(i);if(l)throw new TypeError(o);Object.__defineSetter__.call(e,a,s.set)}return"value"in s&&(e[a]=s.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t,n=Array,i=Object,o=i.prototype,r=n.prototype,s=function(){},a=o.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,u=Function.prototype.toString,c=function(e){try{return u.call(e),!0}catch(e){return!1}},d="[object Function]",h="[object GeneratorFunction]";t=function(e){if("function"!=typeof e)return!1;if(l)return c(e);var t=a.call(e);return t===d||t===h};var p=r.slice,f=r.concat,m=r.push,v=Math.max,g=this;if(!t(g))throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,b=p.call(arguments,1),w=function(){if(this instanceof y){var t=g.apply(this,f.call(b,p.call(arguments)));return i(t)===t?t:this}return g.apply(e,f.call(b,p.call(arguments)))},_=v(0,g.length-b.length),k=[],E=0;E<_;E++)m.call(k,"$"+E);return y=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this, arguments); }")(w),g.prototype&&(s.prototype=g.prototype,y.prototype=new s,s.prototype=null),y}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){var t;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||function(t){var n;"DOMTokenList"in t&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(t.DOMTokenList=function(){var t=!0,n=function(e,n,i,o){Object.defineProperty?Object.defineProperty(e,n,{configurable:!1===t||!!o,get:i}):e.__defineGetter__(n,i)};try{n({},"support")}catch(e){t=!1}return function(t,i){var o=this,r=[],s={},a=0,l=0,u=function(e){n(o,e,(function(){return d(),r[e]}),!1)},c=function(){if(a>=l)for(;l<a;++l)u(l)},d=function(){var e,n,o=arguments,l=/\s+/;if(o.length)for(n=0;n<o.length;++n)if(l.test(o[n]))throw(e=new SyntaxError('String "'+o[n]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(r="object"==typeof t[i]?(""+t[i].baseVal).replace(/^\s+|\s+$/g,"").split(l):(""+t[i]).replace(/^\s+|\s+$/g,"").split(l))[0]&&(r=[]),s={},n=0;n<r.length;++n)s[r[n]]=!0;a=r.length,c()};return d(),n(o,"length",(function(){return d(),a})),o.toLocaleString=o.toString=function(){return d(),r.join(" ")},o.item=function(e){return d(),r[e]},o.contains=function(e){return d(),!!s[e]},o.add=function(){d.apply(o,e=arguments);for(var e,n,l=0,u=e.length;l<u;++l)n=e[l],s[n]||(r.push(n),s[n]=!0);a!==r.length&&(a=r.length>>>0,"object"==typeof t[i]?t[i].baseVal=r.join(" "):t[i]=r.join(" "),c())},o.remove=function(){d.apply(o,e=arguments);for(var e,n={},l=0,u=[];l<e.length;++l)n[e[l]]=!0,delete s[e[l]];for(l=0;l<r.length;++l)n[r[l]]||u.push(r[l]);r=u,a=u.length>>>0,"object"==typeof t[i]?t[i].baseVal=r.join(" "):t[i]=r.join(" "),c()},o.toggle=function(t,n){return d.apply(o,[t]),e!==n?n?(o.add(t),!0):(o.remove(t),!1):s[t]?(o.remove(t),!1):(o.add(t),!0)},o}}()),"classList"in(n=document.createElement("span"))&&(n.classList.toggle("x",!1),n.classList.contains("x")&&(n.classList.constructor.prototype.toggle=function(t){var n=arguments[1];if(n===e){var i=!this.contains(t);return this[i?"add":"remove"](t),i}return this[(n=!!n)?"add":"remove"](t),n})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var t=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,n=arguments.length,i=0;i<n;i++)t.call(this,e[i])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var t=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,n=arguments.length,i=0;i<n;i++)t.call(this,e[i])}}}()}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),n=t.appendChild(document.createElement("iframe")).contentWindow.document,i=Element.prototype=n.appendChild(n.createElement("*")),o={},r=function(e,t){var n,i,s,a=e.childNodes||[],l=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,o)i=o[n],e[n]=i;for(;s=t&&a[++l];)r(s,t);return e},s=document.getElementsByTagName("*"),a=document.createElement,l=100;i.attachEvent("onpropertychange",(function(e){for(var t,n=e.propertyName,r=!o.hasOwnProperty(n),a=i[n],l=o[n],u=-1;t=s[++u];)1===t.nodeType&&(r||t[n]===l)&&(t[n]=a);o[n]=a})),i.constructor=Element,i.hasAttribute||(i.hasAttribute=function(e){return null!==this.getAttribute(e)}),u()||(document.onreadystatechange=u,e=setInterval(u,25)),document.createElement=function(e){var t=a(String(e).toLowerCase());return r(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function u(){return l--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(r(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var t=!0,n=function(e,n,i,o){Object.defineProperty?Object.defineProperty(e,n,{configurable:!1===t||!!o,get:i}):e.__defineGetter__(n,i)};try{n({},"support")}catch(e){t=!1}var i=function(e,o,r){n(e.prototype,o,(function(){var e,s=this,a="__defineGetter__DEFINE_PROPERTY"+o;if(s[a])return e;if(s[a]=!0,!1===t){for(var l,u=i.mirror||document.createElement("div"),c=u.childNodes,d=c.length,h=0;h<d;++h)if(c[h]._R===s){l=c[h];break}l||(l=u.appendChild(document.createElement("div"))),e=DOMTokenList.call(l,s,r)}else e=new DOMTokenList(s,r);return n(s,o,(function(){return e})),delete s[a],e}),!0)};i(e.Element,"classList","className"),i(e.HTMLElement,"classList","className"),i(e.HTMLLinkElement,"relList","rel"),i(e.HTMLAnchorElement,"relList","rel"),i(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),i.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},i.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$openAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},i.prototype.initSectionHeaders=function(){n(this.$sections,function(e,t){var n=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(n,t),this.setExpanded(this.isExpanded(e),e),n.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},i.prototype.initHeaderAttributes=function(e,t){var n=this,i=e.querySelector("."+this.sectionButtonClass),o=e.querySelector("."+this.sectionHeadingClass),r=e.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("id",this.moduleId+"-heading-"+(t+1)),s.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1));for(var a=0;a<i.attributes.length;a++){var l=i.attributes.item(a);s.setAttribute(l.nodeName,l.nodeValue)}s.addEventListener("focusin",(function(t){e.classList.contains(n.sectionHeaderFocusedClass)||(e.className+=" "+n.sectionHeaderFocusedClass)})),s.addEventListener("blur",(function(t){e.classList.remove(n.sectionHeaderFocusedClass)})),null!=r&&s.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1)),s.innerHTML=i.innerHTML,o.removeChild(i),o.appendChild(s);var u=document.createElement("span");u.className=this.iconClass,u.setAttribute("aria-hidden","true"),s.appendChild(u)},i.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},i.prototype.onOpenOrCloseAllToggle=function(){var e=this,t=this.$sections,i=!this.checkIfAllSectionsOpen();n(t,(function(t){e.setExpanded(i,t),e.storeState(t)})),e.updateOpenAllButton(i)},i.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var n=this.checkIfAllSectionsOpen();this.updateOpenAllButton(n)},i.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},i.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},i.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var o={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(e){"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available.")}}};i.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var n=t.getAttribute("aria-controls"),i=t.getAttribute("aria-expanded");void 0!==n||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==i||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),n&&i&&window.sessionStorage.setItem(n,i)}}},i.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var n=t.getAttribute("aria-controls"),i=n?window.sessionStorage.getItem(n):null;null!==i&&this.setExpanded("true"===i,e)}}},function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){(function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(t,n){if(!t)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var o=!(!n||n.bubbles===e)&&n.bubbles,r=!(!n||n.cancelable===e)&&n.cancelable;return i.initEvent(t,o,r),i}return(i=document.createEventObject()).type=t,i.bubbles=!(!n||n.bubbles===e)&&n.bubbles,i.cancelable=!(!n||n.cancelable===e)&&n.cancelable,i},n&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:n}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var e=this,n=arguments[0],o=arguments[1];if(e===window&&n in t)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");e._events||(e._events={}),e._events[n]||(e._events[n]=function(t){var n,o=e._events[t.type].list,r=o.slice(),s=-1,a=r.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=e,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||e,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++s<a&&!t.cancelImmediate;)s in r&&-1!==i(o,n=r[s])&&"function"==typeof n&&n.call(e,t)},e._events[n].list=[],e.attachEvent&&e.attachEvent("on"+n,e._events[n])),e._events[n].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,n=arguments[0],o=arguments[1];t._events&&t._events[n]&&t._events[n].list&&-1!==(e=i(t._events[n].list,o))&&(t._events[n].list.splice(e,1),t._events[n].list.length||(t.detachEvent&&t.detachEvent("on"+n,t._events[n]),delete t._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,n=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var i=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+n,i)};this.attachEvent("on"+n,i)}this.fireEvent("on"+n,e)}catch(i){e.target=t;do{e.currentTarget=t,"_events"in t&&"function"==typeof t._events[n]&&t._events[n].call(t,e),"function"==typeof t["on"+n]&&t["on"+n].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})))}function i(e,t){for(var n=-1,i=e.length;++n<i;)if(n in e&&e[n]===t)return n;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{});function r(e){this.$module=e,this.debounceFormSubmitTimer=null}r.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},r.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},r.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};function s(e){this.$module=e}function a(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count"),this.$textarea&&(this.$countMessage=e.querySelector('[id="'+this.$textarea.id+'-info"]'))}function l(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function u(e){this.$module=e}function c(e){this.$module=e}function d(e){this.$module=e,this.$menuButton=e&&e.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&e.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}function h(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="radio"]')}function p(e){this.$module=e,this.$tabs=e.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}s.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},s.prototype.polyfillDetails=function(){var e,t=this.$module,n=this.$summary=t.getElementsByTagName("summary").item(0),i=this.$content=t.getElementsByTagName("div").item(0);n&&i&&(i.id||(i.id="details-content-"+(e=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})))),t.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",i.id),n.tabIndex=0,!0===(null!==t.getAttribute("open"))?(n.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false")):(n.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),i.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this)))},s.prototype.polyfillSetAttributes=function(){var e=this.$module,t=this.$summary,n=this.$content,i="true"===t.getAttribute("aria-expanded"),o="true"===n.getAttribute("aria-hidden");return t.setAttribute("aria-expanded",i?"false":"true"),n.setAttribute("aria-hidden",o?"false":"true"),n.style.display=i?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"),!0},s.prototype.polyfillHandleInputs=function(e,t){e.addEventListener("keypress",(function(e){var n=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===n.nodeName.toLowerCase()&&(e.preventDefault(),n.click?n.click():t(e))})),e.addEventListener("keyup",(function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()})),e.addEventListener("click",t)},a.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},a.prototype.init=function(){var e=this.$module,t=this.$textarea,n=this.$countMessage;if(t&&n){t.insertAdjacentElement("afterend",n),this.options=this.getDataset(e);var i=this.defaults.characterCountAttribute;this.options.maxwords&&(i=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(i),this.maxLength&&(e.removeAttribute("maxlength"),"onpageshow"in window?window.addEventListener("pageshow",this.sync.bind(this)):window.addEventListener("DOMContentLoaded",this.sync.bind(this)),this.sync())}},a.prototype.sync=function(){this.bindChangeEvents(),this.updateCountMessage()},a.prototype.getDataset=function(e){var t={},n=e.attributes;if(n)for(var i=0;i<n.length;i++){var o=n[i],r=o.name.match(/^data-(.+)/);r&&(t[r[1]]=o.value)}return t},a.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},a.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},a.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},a.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,n=this.$countMessage,i=this.count(e.value),o=this.maxLength,r=o-i;o*(t.threshold?t.threshold:0)/100>i?(n.classList.add("govuk-character-count__message--disabled"),n.setAttribute("aria-hidden",!0)):(n.classList.remove("govuk-character-count__message--disabled"),n.removeAttribute("aria-hidden")),r<0?(e.classList.add("govuk-textarea--error"),n.classList.remove("govuk-hint"),n.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),n.classList.remove("govuk-error-message"),n.classList.add("govuk-hint"));var s,a,l="character";t.maxwords&&(l="word"),l+=-1===r||1===r?"":"s",s=r<0?"too many":"remaining",a=Math.abs(r),n.innerHTML="You have "+a+" "+l+" "+s},a.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},a.prototype.handleBlur=function(){clearInterval(this.valueChecker)},l.prototype.init=function(){var e=this.$module;n(this.$inputs,(function(t){var n=t.getAttribute("data-aria-controls");n&&e.querySelector("#"+n)&&(t.setAttribute("aria-controls",n),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},l.prototype.syncAllConditionalReveals=function(){n(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},l.prototype.syncConditionalRevealWithInputState=function(e){var t=this.$module.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-checkboxes__conditional")){var n=e.checked;e.setAttribute("aria-expanded",n),t.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}},l.prototype.unCheckAllInputsExcept=function(e){n(document.querySelectorAll('input[type="checkbox"][name="'+e.name+'"]'),(function(t){e.form===t.form&&t!==e&&(t.checked=!1)})),this.syncAllConditionalReveals()},l.prototype.unCheckExclusiveInputs=function(e){n(document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+e.name+'"]'),(function(t){e.form===t.form&&(t.checked=!1)})),this.syncAllConditionalReveals()},l.prototype.handleClick=function(e){var t=e.target;"checkbox"===t.type&&(t.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(t),t.checked&&("exclusive"===t.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(t):this.unCheckExclusiveInputs(t)))},function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),i=0;n[i]&&n[i]!==t;)++i;return!!n[i]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),u.prototype.init=function(){var e=this.$module;e&&(e.focus(),e.addEventListener("click",this.handleClick.bind(this)))},u.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},u.prototype.focusTarget=function(e){if("A"!==e.tagName||!1===e.href)return!1;var t=this.getFragmentFromUrl(e.href),n=document.getElementById(t);if(!n)return!1;var i=this.getAssociatedLegendOrLabel(n);return!!i&&(i.scrollIntoView(),n.focus({preventScroll:!0}),!0)},u.prototype.getFragmentFromUrl=function(e){return-1!==e.indexOf("#")&&e.split("#").pop()},u.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var n=t.getElementsByTagName("legend");if(n.length){var i=n[0];if("checkbox"===e.type||"radio"===e.type)return i;var o=i.getBoundingClientRect().top,r=e.getBoundingClientRect();if(r.height&&window.innerHeight)if(r.top+r.height-o<window.innerHeight/2)return i}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},c.prototype.init=function(){this.$module&&this.setFocus()},c.prototype.setFocus=function(){var e=this.$module;"true"!==e.getAttribute("data-disable-auto-focus")&&"alert"===e.getAttribute("role")&&(e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",(function(){e.removeAttribute("tabindex")}))),e.focus())},d.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&(this.syncState(this.$menu.classList.contains("govuk-header__navigation--open")),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this)))},d.prototype.syncState=function(e){this.$menuButton.classList.toggle("govuk-header__menu-button--open",e),this.$menuButton.setAttribute("aria-expanded",e)},d.prototype.handleMenuButtonClick=function(){var e=this.$menu.classList.toggle("govuk-header__navigation--open");this.syncState(e)},h.prototype.init=function(){var e=this.$module;n(this.$inputs,(function(t){var n=t.getAttribute("data-aria-controls");n&&e.querySelector("#"+n)&&(t.setAttribute("aria-controls",n),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},h.prototype.syncAllConditionalReveals=function(){n(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},h.prototype.syncConditionalRevealWithInputState=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var n=e.checked;e.setAttribute("aria-expanded",n),t.classList.toggle("govuk-radios__conditional--hidden",!n)}},h.prototype.handleClick=function(e){var t=e.target;"radio"===t.type&&n(document.querySelectorAll('input[type="radio"][aria-controls]'),function(e){var n=e.form===t.form;e.name===t.name&&n&&this.syncConditionalRevealWithInputState(e)}.bind(this))},function(e){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),function(e){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{}),p.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},p.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},p.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},p.prototype.setup=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll(".govuk-tabs__list-item");if(t&&i&&o){i.setAttribute("role","tablist"),n(o,(function(e){e.setAttribute("role","presentation")})),n(t,function(e){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.boundTabKeydown=this.onTabKeydown.bind(this),e.addEventListener("click",e.boundTabClick,!0),e.addEventListener("keydown",e.boundTabKeydown,!0),this.hideTab(e)}.bind(this));var r=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(r),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},p.prototype.teardown=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll(".govuk-tabs__list-item");t&&i&&o&&(i.removeAttribute("role"),n(o,(function(e){e.removeAttribute("role","presentation")})),n(t,function(e){e.removeEventListener("click",e.boundTabClick,!0),e.removeEventListener("keydown",e.boundTabKeydown,!0),this.unsetAttributes(e)}.bind(this)),window.removeEventListener("hashchange",e.boundOnHashChange,!0))},p.prototype.onHashChange=function(e){var t=window.location.hash,n=this.getTab(t);if(n)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();this.hideTab(i),this.showTab(n),n.focus()}},p.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},p.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},p.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')},p.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var n=this.getPanel(e);n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",e.id),n.classList.add(this.jsHiddenClass)},p.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass)},p.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var t=e.target,n=this.getCurrentTab();this.hideTab(n),this.showTab(t),this.createHistoryEntry(t)},p.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),n=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=n},p.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},p.prototype.activateNextTab=function(){var e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;if(t)var n=t.querySelector(".govuk-tabs__tab");n&&(this.hideTab(e),this.showTab(n),n.focus(),this.createHistoryEntry(n))},p.prototype.activatePreviousTab=function(){var e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;if(t)var n=t.querySelector(".govuk-tabs__tab");n&&(this.hideTab(e),this.showTab(n),n.focus(),this.createHistoryEntry(n))},p.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},p.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},p.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},p.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1")},p.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0")},p.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},p.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},t.initAll=function(e){var t=void 0!==(e=void 0!==e?e:{}).scope?e.scope:document;n(t.querySelectorAll('[data-module="govuk-button"]'),(function(e){new r(e).init()})),n(t.querySelectorAll('[data-module="govuk-accordion"]'),(function(e){new i(e).init()})),n(t.querySelectorAll('[data-module="govuk-details"]'),(function(e){new s(e).init()})),n(t.querySelectorAll('[data-module="govuk-character-count"]'),(function(e){new a(e).init()})),n(t.querySelectorAll('[data-module="govuk-checkboxes"]'),(function(e){new l(e).init()})),new u(t.querySelector('[data-module="govuk-error-summary"]')).init(),new d(t.querySelector('[data-module="govuk-header"]')).init(),n(t.querySelectorAll('[data-module="govuk-notification-banner"]'),(function(e){new c(e).init()})),n(t.querySelectorAll('[data-module="govuk-radios"]'),(function(e){new h(e).init()})),n(t.querySelectorAll('[data-module="govuk-tabs"]'),(function(e){new p(e).init()}))},t.Accordion=i,t.Button=r,t.Details=s,t.CharacterCount=a,t.Checkboxes=l,t.ErrorSummary=u,t.Header=d,t.Radios=h,t.Tabs=p})),$.fn.changeElementType=function(e){var t={};$.each(this[0].attributes,(function(e,n){t[n.nodeName]=n.nodeValue}));var n=$("<"+e+"/>",t).append($(this).contents());return this.replaceWith(n),n},$("[data-max-length]").each((function(){var e=$(this).html(),t=$(this).html().substring(0,$(this).data("max-length"));e.length!=t.length&&($(this).html(t+"..."),$("<a href='#' class='govuk-link govuk-link--no-visited-state govuk-!-margin-left-2'>More</a>").appendTo($(this)).attr("data-more-text",e))})),$("[data-more-text]").click((function(){return $(this).parent().html($(this).data("more-text")),!1})),$("[data-definition-title]").each((function(){$(this).addClass("lite-link--definition"),$(this).changeElementType("a").attr("href","#")})),$("[data-definition-title]").click((function(){var e=$(this).data("definition-subtitle"),t=$(this).data("definition-text"),n=$(this).data("definition-list");n&&(n=n.split(","));var i="<ol class='govuk-list govuk-list--number'>";if(n)for(var o=0;o<n.length;o++)i+="<li>"+n[o]+"</li>";return i+="</ol>",e&&(e="<p class='govuk-heading-s'>"+e+"</p>",t?t=e+t:i=e+i),LITECommon.Modal.showModal($(this).data("definition-title"),t||i,!1,!0,{maxWidth:"500px"}),!1})),$(".govuk-back-link").on("click",(function(){var e=$(this).attr("href");return"#"!=e?window.location.href=e:window.history.go(-1),!1})),$("input:checkbox").change((function(){i()})),$(".lite-button-checkbox").click((function(){var e=$(this).closest("table");e.find("input:checkbox:checked").length==e.find("input:checkbox").length?e.find("input:checkbox").prop("checked",!1).change():e.find("input:checkbox").prop("checked",!0).change(),i()})),$(".lite-filter-bar").each((function(){var e=$(this).parent();e.hide(),e.prev().find("#show-filters-link").show(),e.prev().find("#hide-filters-link").hide(),$(this).find("input, select").each((function(){""!=$(this).val()&&"Select"!=$(this).val()&&"blank"!=$(this).val()&&"hidden"!=$(this).attr("type")&&("checkbox"!=$(this).attr("type")||"checkbox"==$(this).attr("type")&&$(this).attr("checked"))&&(e.show(),e.prev().find("#show-filters-link").hide(),e.prev().find("#hide-filters-link").show(),$(this).parents(".govuk-details").attr("open",""))}))})),$(".lite-filter-toggle-link").unbind().click((function(){return $(this).parent().next().toggle(),$(this).parent().find("> *").toggle(),!1})),$("[data-enable-on-checkboxes]").each((function(){var e=$(this),t=$($(this).data("enable-on-checkboxes")),n=$($(this).data("enable-on-checkboxes")+" .govuk-checkboxes__input");t.find(":checked").length>0?o(e):r(e),n.change((function(){t.find(":checked").length>0?o(e):r(e)}))})),$(".app-snackbar__close-link").click((function(){return $(this).parent().parent().hide(),!1}));var x="top",I="bottom",L="right",S="left",O="auto",A=[x,I,L,S],C="start",T="end",j="viewport",D="popper",M=A.reduce((function(e,t){return e.concat([t+"-"+C,t+"-"+T])}),[]),P=[].concat(A,[O]).reduce((function(e,t){return e.concat([t,t+"-"+C,t+"-"+T])}),[]),N=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function R(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}var H={placement:"bottom",modifiers:[],strategy:"absolute"};function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function q(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?H:o;return function(e,t,n){void 0===n&&(n=r);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},H),r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(n){h(),a.options=Object.assign(Object.assign(Object.assign({},r),a.options),n),a.scrollParents={reference:u(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var o=function(e){var t=R(e);return N.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,a.options.modifiers)));return a.orderedModifiers=o.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var r=o({state:a,name:t,instance:d,options:i}),s=function(){};l.push(r||s)}})),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(F(t,n)){a.rects={reference:v(t,E(n),"fixed"===a.options.strategy),popper:g(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var o=a.orderedModifiers[i],r=o.fn,s=o.options,l=void 0===s?{}:s,u=o.name;"function"==typeof r&&(a=r({state:a,options:l,name:u,instance:d})||a)}else a.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){h(),c=!0}};if(!F(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var B={passive:!0};function V(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function U(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function z(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?V(o):null,s=o?W(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case x:t={x:a,y:n.y-i.height};break;case I:t={x:a,y:n.y+n.height};break;case L:t={x:n.x+n.width,y:l};break;case S:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var u=r?U(r):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case C:t[u]=Math.floor(t[u])-Math.floor(n[c]/2-i[c]/2);break;case T:t[u]=Math.floor(t[u])+Math.ceil(n[c]/2-i[c]/2)}}return t}var K={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,n=e.popper,i=e.popperRect,o=e.placement,r=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:Math.round(t*i)/i||0,y:Math.round(n*i)/i||0}}(r),d=c.x,p=c.y,f=r.hasOwnProperty("x"),m=r.hasOwnProperty("y"),v=S,g=x,y=window;if(u){var b=E(n);b===a(n)&&(b=h(n)),o===x&&(g=I,p-=b.clientHeight-i.height,p*=l?1:-1),o===S&&(v=L,d-=b.clientWidth-i.width,d*=l?1:-1)}var w,_=Object.assign({position:s},u&&K);return l?Object.assign(Object.assign({},_),{},((w={})[g]=m?"0":"",w[v]=f?"0":"",w.transform=(y.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",w)):Object.assign(Object.assign({},_),{},((t={})[g]=m?p+"px":"",t[v]=f?d+"px":"",t.transform="",t))}var G={left:"right",right:"left",bottom:"top",top:"bottom"};function Y(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var J={start:"end",end:"start"};function Z(e){return e.replace(/start|end/g,(function(e){return J[e]}))}function Q(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ee(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function te(e,t){return t===j?ee(function(e){var t=a(e),n=h(e),i=t.visualViewport,o=n.clientWidth,r=n.clientHeight,s=0,l=0;return i&&(o=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,l=i.offsetTop)),{width:o,height:r,x:s+p(e),y:l}}(e)):c(t)?function(e){var t=s(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ee(function(e){var t=h(e),n=l(e),i=e.ownerDocument.body,o=Math.max(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Math.max(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+p(e),a=-n.scrollTop;return"rtl"===f(i||t).direction&&(s+=Math.max(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:s,y:a}}(h(e)))}function ne(e,t,n){var i="clippingParents"===t?function(e){var t=w(y(e)),n=["absolute","fixed"].indexOf(f(e).position)>=0&&c(e)?E(e):e;return u(n)?t.filter((function(e){return u(e)&&Q(e,n)&&"body"!==d(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),r=o[0],s=o.reduce((function(t,n){var i=te(e,n);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t}),te(e,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ie(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function oe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function re(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,r=n.boundary,a=void 0===r?"clippingParents":r,l=n.rootBoundary,c=void 0===l?j:l,d=n.elementContext,p=void 0===d?D:d,f=n.altBoundary,m=void 0!==f&&f,v=n.padding,g=void 0===v?0:v,y=ie("number"!=typeof g?g:oe(g,A)),b=p===D?"reference":D,w=e.elements.reference,_=e.rects.popper,k=e.elements[m?b:p],E=ne(u(k)?k:k.contextElement||h(e.elements.popper),a,c),S=s(w),O=z({reference:S,element:_,strategy:"absolute",placement:o}),C=ee(Object.assign(Object.assign({},_),O)),T=p===D?C:S,$={top:E.top-T.top+y.top,bottom:T.bottom-E.bottom+y.bottom,left:E.left-T.left+y.left,right:T.right-E.right+y.right},M=e.modifiersData.offset;if(p===D&&M){var P=M[o];Object.keys($).forEach((function(e){var t=[L,I].indexOf(e)>=0?1:-1,n=[x,I].indexOf(e)>=0?"y":"x";$[e]+=P[n]*t}))}return $}function se(e,t,n){return Math.max(e,Math.min(t,n))}function ae(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function le(e){return[x,L,I,S].some((function(t){return e[t]>=0}))}var ue=q({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,s=i.resize,l=void 0===s||s,u=a(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,B)})),l&&u.addEventListener("resize",n.update,B),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,B)})),l&&u.removeEventListener("resize",n.update,B)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=z({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a={placement:V(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),X(Object.assign(Object.assign({},a),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),X(Object.assign(Object.assign({},a),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];c(o)&&d(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});c(i)&&d(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,s=P.reduce((function(e,n){return e[n]=function(e,t,n){var i=V(e),o=[S,x].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[S,L].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,r),e}),{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,g=V(v),y=l||(g===v||!f?[Y(v)]:function(e){if(V(e)===O)return[];var t=Y(e);return[Z(e),t,Z(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(V(n)===O?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?P:l,c=W(i),d=c?a?M:M.filter((function(e){return W(e)===c})):A,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=re(e,{placement:n,boundary:o,rootBoundary:r,padding:s})[V(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,k=new Map,E=!0,T=b[0],j=0;j<b.length;j++){var $=b[j],D=V($),N=W($)===C,R=[x,I].indexOf(D)>=0,H=R?"width":"height",F=re(t,{placement:$,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),q=R?N?L:S:N?I:x;w[H]>_[H]&&(q=Y(q));var B=Y(q),U=[];if(r&&U.push(F[D]<=0),a&&U.push(F[q]<=0,F[B]<=0),U.every((function(e){return e}))){T=$,E=!1;break}k.set($,U)}if(E)for(var z=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},K=f?3:1;K>0;K--){if("break"===z(K))break}t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,v=re(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=V(t.placement),b=W(t.placement),w=!b,_=U(y),k="x"===_?"y":"x",O=t.modifiersData.popperOffsets,A=t.rects.reference,T=t.rects.popper,j="function"==typeof m?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m,$={x:0,y:0};if(O){if(r){var D="y"===_?x:S,M="y"===_?I:L,P="y"===_?"height":"width",N=O[_],R=O[_]+v[D],H=O[_]-v[M],F=p?-T[P]/2:0,q=b===C?A[P]:T[P],B=b===C?-T[P]:-A[P],z=t.elements.arrow,K=p&&z?g(z):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G=X[D],Y=X[M],J=se(0,A[P],K[P]),Z=w?A[P]/2-F-J-G-j:q-J-G-j,Q=w?-A[P]/2+F+J+Y+j:B+J+Y+j,ee=t.elements.arrow&&E(t.elements.arrow),te=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,ne=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,ie=O[_]+Z-ne-te,oe=O[_]+Q-ne,ae=se(p?Math.min(R,ie):R,N,p?Math.max(H,oe):H);O[_]=ae,$[_]=ae-N}if(a){var le="x"===_?x:S,ue="x"===_?I:L,ce=O[k],de=se(ce+v[le],ce,ce-v[ue]);O[k]=de,$[k]=de-ce}t.modifiersData[i]=$}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=n.elements.arrow,r=n.modifiersData.popperOffsets,s=V(n.placement),a=U(s),l=[S,L].indexOf(s)>=0?"height":"width";if(o&&r){var u=n.modifiersData[i+"#persistent"].padding,c=g(o),d="y"===a?x:S,h="y"===a?I:L,p=n.rects.reference[l]+n.rects.reference[a]-r[a]-n.rects.popper[l],f=r[a]-n.rects.reference[a],m=E(o),v=m?"y"===a?m.clientHeight||0:m.clientWidth||0:0,y=p/2-f/2,b=u[d],w=v-c[l]-u[h],_=v/2-c[l]/2+y,k=se(b,_,w),O=a;n.modifiersData[i]=((t={})[O]=k,t.centerOffset=k-_,t)}},effect:function(e){var t=e.state,n=e.options,i=e.name,o=n.element,r=void 0===o?"[data-popper-arrow]":o,s=n.padding,a=void 0===s?0:s;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Q(t.elements.popper,r)&&(t.elements.arrow=r,t.modifiersData[i+"#persistent"]={padding:ie("number"!=typeof a?a:oe(a,A))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=re(t,{elementContext:"reference"}),a=re(t,{altBoundary:!0}),l=ae(s,i),u=ae(a,o,r),c=le(l),d=le(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),ce="tippy-content",de="tippy-backdrop",he="tippy-arrow",pe="tippy-svg-arrow",fe={passive:!0,capture:!0};function me(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function ve(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function ge(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ye(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function be(e){return[].concat(e)}function we(e,t){-1===e.indexOf(t)&&e.push(t)}function _e(e){return e.split("-")[0]}function ke(e){return[].slice.call(e)}function Ee(){return document.createElement("div")}function xe(e){return["Element","Fragment"].some((function(t){return ve(e,t)}))}function Ie(e){return ve(e,"MouseEvent")}function Le(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Se(e){return xe(e)?[e]:function(e){return ve(e,"NodeList")}(e)?ke(e):Array.isArray(e)?e:ke(document.querySelectorAll(e))}function Oe(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Ae(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ce(e){var t=be(e)[0];return t&&t.ownerDocument||document}function Te(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}var je={isTouch:!1},$e=0;function De(){je.isTouch||(je.isTouch=!0,window.performance&&document.addEventListener("mousemove",Me))}function Me(){var e=performance.now();e-$e<20&&(je.isTouch=!1,document.removeEventListener("mousemove",Me)),$e=e}function Pe(){var e=document.activeElement;if(Le(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ne="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Re=/MSIE |Trident\//.test(Ne);var He={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fe=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},He,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),qe=Object.keys(Fe);function Be(e){var t=(e.plugins||[]).reduce((function(t,n){var i=n.name,o=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:o),t}),{});return Object.assign({},e,{},t)}function Ve(e,t){var n=Object.assign({},t,{content:ge(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Be(Object.assign({},Fe,{plugins:t}))):qe).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Fe.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function We(e,t){e.innerHTML=t}function Ue(e){var t=Ee();return!0===e?t.className=he:(t.className=pe,xe(e)?t.appendChild(e):We(t,e)),t}function ze(e,t){xe(t.content)?(We(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?We(e,t.content):e.textContent=t.content)}function Ke(e){var t=e.firstElementChild,n=ke(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(ce)})),arrow:n.find((function(e){return e.classList.contains(he)||e.classList.contains(pe)})),backdrop:n.find((function(e){return e.classList.contains(de)}))}}function Xe(e){var t=Ee(),n=Ee();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Ee();function o(n,i){var o=Ke(t),r=o.box,s=o.content,a=o.arrow;i.theme?r.setAttribute("data-theme",i.theme):r.removeAttribute("data-theme"),"string"==typeof i.animation?r.setAttribute("data-animation",i.animation):r.removeAttribute("data-animation"),i.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?r.setAttribute("role",i.role):r.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||ze(s,e.props),i.arrow?a?n.arrow!==i.arrow&&(r.removeChild(a),r.appendChild(Ue(i.arrow))):r.appendChild(Ue(i.arrow)):a&&r.removeChild(a)}return i.className=ce,i.setAttribute("data-state","hidden"),ze(i,e.props),t.appendChild(n),n.appendChild(i),o(e.props,e.props),{popper:t,onUpdate:o}}Xe.$$tippy=!0;var Ge=1,Ye=[],Je=[];function Ze(e,t){var n,i,o,r,s,a,l,u,c,d=Ve(e,Object.assign({},Fe,{},Be((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),h=!1,p=!1,f=!1,m=!1,v=[],g=ye(X,d.interactiveDebounce),y=Ce(d.triggerTarget||e),b=Ge++,w=(c=d.plugins).filter((function(e,t){return c.indexOf(e)===t})),_={id:b,reference:e,popper:Ee(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:w,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){0;if(_.state.isDestroyed)return;D("onBeforeUpdate",[_,t]),z();var n=_.props,i=Ve(e,Object.assign({},_.props,{},t,{ignoreAttributes:!0}));_.props=i,U(),n.interactiveDebounce!==i.interactiveDebounce&&(N(),g=ye(X,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?be(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");P(),$(),x&&x(n,i);_.popperInstance&&(Z(),ee().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));D("onAfterUpdate",[_,t])},setContent:function(e){_.setProps({content:e})},show:function(){0;var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=je.isTouch&&!_.props.touch,o=me(_.props.duration,0,Fe.duration);if(e||t||n||i)return;if(C().hasAttribute("disabled"))return;if(D("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,A()&&(E.style.visibility="visible");$(),q(),_.state.isMounted||(E.style.transition="none");if(A()){var r=T(),s=r.box,a=r.content;Oe([s,a],0)}l=function(){if(_.state.isVisible&&!m){if(m=!0,E.offsetHeight,E.style.transition=_.props.moveTransition,A()&&_.props.animation){var e=T(),t=e.box,n=e.content;Oe([t,n],o),Ae([t,n],"visible")}M(),P(),we(Je,_),_.state.isMounted=!0,D("onMount",[_]),_.props.animation&&A()&&function(e,t){V(e,t)}(o,(function(){_.state.isShown=!0,D("onShown",[_])}))}},function(){var e,t=_.props.appendTo,n=C();e=_.props.interactive&&t===Fe.appendTo||"parent"===t?n.parentNode:ge(t,[n]);e.contains(E)||e.appendChild(E);Z(),!1}()},hide:function(){0;var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=me(_.props.duration,1,Fe.duration);if(e||t||n)return;if(D("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,m=!1,h=!1,A()&&(E.style.visibility="hidden");if(N(),B(),$(),A()){var o=T(),r=o.box,s=o.content;_.props.animation&&(Oe([r,s],i),Ae([r,s],"hidden"))}M(),P(),_.props.animation?A()&&function(e,t){V(e,(function(){!_.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&t()}))}(i,_.unmount):_.unmount()},hideWithInteractivity:function(e){0;y.addEventListener("mousemove",g),we(Ye,g),g(e)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;Q(),ee().forEach((function(e){e._tippy.unmount()})),E.parentNode&&E.parentNode.removeChild(E);Je=Je.filter((function(e){return e!==_})),_.state.isMounted=!1,D("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),z(),delete e._tippy,_.state.isDestroyed=!0,D("onDestroy",[_])}};if(!d.render)return _;var k=d.render(_),E=k.popper,x=k.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+_.id,_.popper=E,e._tippy=_,E._tippy=_;var I=w.map((function(e){return e.fn(_)})),L=e.hasAttribute("aria-expanded");function S(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function O(){return"hold"===S()[0]}function A(){var e;return!!(null==(e=_.props.render)?void 0:e.$$tippy)}function C(){return u||e}function T(){return Ke(E)}function j(e){return _.state.isMounted&&!_.state.isVisible||je.isTouch||s&&"focus"===s.type?0:me(_.props.delay,e?0:1,Fe.delay)}function $(){E.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",E.style.zIndex=""+_.props.zIndex}function D(e,t,n){var i;(void 0===n&&(n=!0),I.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(i=_.props)[e].apply(i,t)}function M(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,i=E.id;be(_.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function P(){!L&&_.props.aria.expanded&&be(_.props.triggerTarget||e).forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function N(){y.removeEventListener("mousemove",g),Ye=Ye.filter((function(e){return e!==g}))}function R(e){if(!(je.isTouch&&(f||"mousedown"===e.type)||_.props.interactive&&E.contains(e.target))){if(C().contains(e.target)){if(je.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout((function(){p=!1})),_.state.isMounted||B())}}function H(){f=!0}function F(){f=!1}function q(){y.addEventListener("mousedown",R,!0),y.addEventListener("touchend",R,fe),y.addEventListener("touchstart",F,fe),y.addEventListener("touchmove",H,fe)}function B(){y.removeEventListener("mousedown",R,!0),y.removeEventListener("touchend",R,fe),y.removeEventListener("touchstart",F,fe),y.removeEventListener("touchmove",H,fe)}function V(e,t){var n=T().box;function i(e){e.target===n&&(Te(n,"remove",i),t())}if(0===e)return t();Te(n,"remove",a),Te(n,"add",i),a=i}function W(t,n,i){void 0===i&&(i=!1),be(_.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),v.push({node:e,eventType:t,handler:n,options:i})}))}function U(){var e;O()&&(W("touchstart",K,{passive:!0}),W("touchend",G,{passive:!0})),(e=_.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(W(e,K),e){case"mouseenter":W("mouseleave",G);break;case"focus":W(Re?"focusout":"blur",Y);break;case"focusin":W("focusout",Y)}}))}function z(){v.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)})),v=[]}function K(e){var t,n=!1;if(_.state.isEnabled&&!J(e)&&!p){var i="focus"===(null==(t=s)?void 0:t.type);s=e,u=e.currentTarget,P(),!_.state.isVisible&&Ie(e)&&Ye.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:te(e),"click"===e.type&&(h=!n),n&&!i&&ne(e)}}function X(e){var t=e.target,n=C().contains(t)||E.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,r=e.props.interactiveBorder,s=_e(o.placement),a=o.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,u="top"===s?a.bottom.y:0,c="right"===s?a.left.x:0,d="left"===s?a.right.x:0,h=t.top-i+l>r,p=i-t.bottom-u>r,f=t.left-n+c>r,m=n-t.right-d>r;return h||p||f||m}))}(ee().concat(E).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(N(),ne(e))}function G(e){J(e)||_.props.trigger.indexOf("click")>=0&&h||(_.props.interactive?_.hideWithInteractivity(e):ne(e))}function Y(e){_.props.trigger.indexOf("focusin")<0&&e.target!==C()||_.props.interactive&&e.relatedTarget&&E.contains(e.relatedTarget)||ne(e)}function J(e){return!!je.isTouch&&O()!==e.type.indexOf("touch")>=0}function Z(){Q();var t=_.props,n=t.popperOptions,i=t.placement,o=t.offset,r=t.getReferenceClientRect,s=t.moveTransition,a=A()?Ke(E).arrow:null,u=r?{getBoundingClientRect:r,contextElement:r.contextElement||C()}:e,c=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(A()){var n=T().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];A()&&a&&c.push({name:"arrow",options:{element:a,padding:3}}),c.push.apply(c,(null==n?void 0:n.modifiers)||[]),_.popperInstance=ue(u,E,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:c}))}function Q(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function ee(){return ke(E.querySelectorAll("[data-tippy-root]"))}function te(e){_.clearDelayTimeouts(),e&&D("onTrigger",[_,e]),q();var t=j(!0),n=S(),o=n[0],r=n[1];je.isTouch&&"hold"===o&&r&&(t=r),t?i=setTimeout((function(){_.show()}),t):_.show()}function ne(e){if(_.clearDelayTimeouts(),D("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=j(!1);t?o=setTimeout((function(){_.state.isVisible&&_.hide()}),t):r=requestAnimationFrame((function(){_.hide()}))}}else B()}return U(),P(),$(),D("onCreate",[_]),d.showOnCreate&&te(),E.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),E.addEventListener("mouseleave",(function(e){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(y.addEventListener("mousemove",g),g(e))})),_}function Qe(e,t){void 0===t&&(t={});var n=Fe.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",De,fe),window.addEventListener("blur",Pe);var i=Object.assign({},t,{plugins:n}),o=Se(e).reduce((function(e,t){var n=t&&Ze(t,i);return n&&e.push(n),e}),[]);return xe(e)?o[0]:o}Qe.defaultProps=Fe,Qe.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Fe[t]=e[t]}))},Qe.currentInput=je;Qe.setDefaultProps({render:Xe});var et=Qe;
/**
 *
 *
 * @author Jerry Bendy <jerry@icewingcc.com>
 * @licence MIT
 *
 */
!function(e){var t,n=function(){try{if(e.URLSearchParams&&"bar"===new e.URLSearchParams("foo=bar").get("foo"))return e.URLSearchParams}catch(e){}return null}(),i=n&&"a=1"===new n({a:1}).toString(),o=n&&"+"===new n("s=%2B").get("s"),r=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),s=c.prototype,a=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&i&&o&&r)){s.append=function(e,t){m(this.__URLSearchParams__,e,t)},s.delete=function(e){delete this.__URLSearchParams__[e]},s.get=function(e){var t=this.__URLSearchParams__;return this.has(e)?t[e][0]:null},s.getAll=function(e){var t=this.__URLSearchParams__;return this.has(e)?t[e].slice(0):[]},s.has=function(e){return g(this.__URLSearchParams__,e)},s.set=function(e,t){this.__URLSearchParams__[e]=[""+t]},s.toString=function(){var e,t,n,i,o=this.__URLSearchParams__,r=[];for(t in o)for(n=d(t),e=0,i=o[t];e<i.length;e++)r.push(n+"="+d(i[e]));return r.join("&")};var l=!!o&&n&&!i&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:l?new Proxy(n,{construct:function(e,t){return new e(new c(t[0]).toString())}}):c});var u=e.URLSearchParams.prototype;u.polyfill=!0,u.forEach=u.forEach||function(e,t){var n=f(this.toString());Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},u.sort=u.sort||function(){var e,t,n,i=f(this.toString()),o=[];for(e in i)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++){var r=o[t],s=i[r];for(n=0;n<s.length;n++)this.append(r,s[n])}},u.keys=u.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},u.values=u.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},u.entries=u.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},a&&(u[e.Symbol.iterator]=u[e.Symbol.iterator]||u.entries)}function c(e){((e=e||"")instanceof URLSearchParams||e instanceof c)&&(e=e.toString()),this.__URLSearchParams__=f(e)}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function h(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}function p(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return a&&(n[e.Symbol.iterator]=function(){return n}),n}function f(e){var t={};if("object"==typeof e)if(v(e))for(var n=0;n<e.length;n++){var i=e[n];if(!v(i)||2!==i.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");m(t,i[0],i[1])}else for(var o in e)e.hasOwnProperty(o)&&m(t,o,e[o]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var r=e.split("&"),s=0;s<r.length;s++){var a=r[s],l=a.indexOf("=");-1<l?m(t,h(a.slice(0,l)),h(a.slice(l+1))):a&&m(t,h(a),"")}}return t}function m(e,t,n){var i="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);g(e,t)?e[t].push(i):e[t]=[i]}function v(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(void 0!==e?e:"undefined"!=typeof window?window:{}),function(){if(!self.fetch){s.prototype.append=function(e,t){e=o(e),t=r(t);var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},s.prototype.delete=function(e){delete this.map[o(e)]},s.prototype.get=function(e){var t=this.map[o(e)];return t?t[0]:null},s.prototype.getAll=function(e){return this.map[o(e)]||[]},s.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},s.prototype.set=function(e,t){this.map[o(e)]=[r(t)]},s.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach((function(n){e(n,t.map[n])}))};var e="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),t="FormData"in self,n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],i=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);c.call(d.prototype),c.call(f.prototype),self.Headers=s,self.Request=d,self.Response=f,self.fetch=function(t,n){var o;return o=d.prototype.isPrototypeOf(t)&&!n?t:new d(t,n),new fetch.Promise((function(t,n){var r=function(){return i&&!/^(get|post|head|put|delete|options)$/i.test(this.method)?(this.usingActiveXhr=!0,new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest}();function s(){if(4===r.readyState){var e=1223===r.status?204:r.status;if(e<100||e>599)n(new TypeError("Network request failed"));else{var i={status:e,statusText:r.statusText,headers:p(r),url:"responseURL"in r?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):void 0},o="response"in r?r.response:r.responseText;t(new f(o,i))}}}"cors"===o.credentials&&(r.withCredentials=!0),r.onreadystatechange=s,self.usingActiveXhr||(r.onload=s,r.onerror=function(){n(new TypeError("Network request failed"))}),r.open(o.method,o.url,!0),"responseType"in r&&e&&(r.responseType="blob"),o.headers.forEach((function(e,t){t.forEach((function(t){r.setRequestHeader(e,t)}))})),r.send(void 0===o._bodyInit?null:o._bodyInit)}))},fetch.Promise=self.Promise,self.fetch.polyfill=!0}function o(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=e.toString()),e}function s(e){this.map={};var t=this;e instanceof s?e.forEach((function(e,n){n.forEach((function(n){t.append(e,n)}))})):e&&Object.getOwnPropertyNames(e).forEach((function(n){t.append(n,e[n])}))}function a(e){if(e.bodyUsed)return fetch.Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new fetch.Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function u(e){var t=new FileReader;return t.readAsArrayBuffer(e),l(t)}function c(){return this.bodyUsed=!1,this._initBody=function(n){if(this._bodyInit=n,"string"==typeof n)this._bodyText=n;else if(e&&Blob.prototype.isPrototypeOf(n))this._bodyBlob=n;else if(t&&FormData.prototype.isPrototypeOf(n))this._bodyFormData=n;else{if(n)throw new Error("unsupported BodyInit type");this._bodyText=""}},e?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return fetch.Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return fetch.Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(u)},this.text=function(){var e,t,n=a(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,(t=new FileReader).readAsText(e),l(t);if(this._bodyFormData)throw new Error("could not read FormData body as text");return fetch.Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e||fetch.Promise.resolve(this._bodyText)},t&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then((function(e){return JSON.parse(e)}))},this}function d(e,t){var i,o;if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new s(t.headers),this.method=(i=t.method||"GET",o=i.toUpperCase(),n.indexOf(o)>-1?o:i),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function h(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}})),t}function p(e){var t=new s;return e.getAllResponseHeaders().trim().split("\n").forEach((function(e){var n=e.trim().split(":"),i=n.shift().trim(),o=n.join(":").trim();t.append(i,o)})),t}function f(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof s?t.headers:new s(t.headers),this.url=t.url||""}}();var tt,nt,it={};function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e){return at(e)}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}function dt(e,t){return!t||"object"!=((n=t)&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ot(e):t;var n}tt=it,nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){var n,o;n=e,t=i[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function r(e,t){for(var n=document.getElementsByClassName(e.resultsList.className),i=0;i<n.length;i++)t!==n[i]&&t!==e.inputField&&n[i].parentNode.removeChild(n[i]);e.inputField.removeAttribute("aria-activedescendant"),e.inputField.setAttribute("aria-expanded",!1)}function s(e,t,i){var o,r,s=(o=e,(r=document.createElement(o.resultsList.element)).setAttribute("id",o.resultsList.idName),r.setAttribute("aria-label",o.name),r.setAttribute("class",o.resultsList.className),r.setAttribute("role","listbox"),r.setAttribute("tabindex","-1"),o.resultsList.container&&o.resultsList.container(r),("string"==typeof o.resultsList.destination?document.querySelector(o.resultsList.destination):o.resultsList.destination()).insertAdjacentElement(o.resultsList.position,r),r);e.inputField.setAttribute("aria-expanded",!0);for(var a=function(o){var r,a,l,u,c=t.results[o];(u=(r=c,a=o,l=e,(u=document.createElement(l.resultItem.element)).setAttribute("id","".concat(l.resultItem.idName,"_").concat(a)),u.setAttribute("class",l.resultItem.className),u.setAttribute("role","option"),u.innerHTML=r.match,l.resultItem.content&&l.resultItem.content(r,u),u)).addEventListener("click",(function(r){r={event:r,matches:i,input:t.input,query:t.query,results:t.results,selection:n(n({},c),{},{index:o})},e.onSelection&&e.onSelection(r)})),s.appendChild(u)},l=0;l<t.results.length;l++)a(l);return s}function a(e,t,n){e.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:t,cancelable:!0}))}function l(e,t){for(var n=[],i=function(i){function r(o){var r=(o?s[o]:s).toString();r&&((r="function"==typeof e.searchEngine?e.searchEngine(t,r):function(e,t,n){var i=n.diacritics?t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t.toLowerCase();if("loose"===n.searchEngine){e=e.replace(/ /g,"");for(var o=[],r=0,s=0;s<i.length;s++){var a=t[s];r<e.length&&i[s]===e[r]&&(a=n.highlight?'<span class="autoComplete_highlighted">'.concat(a,"</span>"):a,r++),o.push(a)}if(r===e.length)return o.join("")}else if(i.includes(e))return e=new RegExp("".concat(e),"i").exec(t),n.highlight?t.replace(e,'<span class="autoComplete_highlighted">'.concat(e,"</span>")):t}(t,r,e))&&o?n.push({key:o,index:i,match:r,value:s}):r&&!o&&n.push({index:i,match:r,value:s}))}var s=e.data.store[i];if(e.data.key){var a,l=o(e.data.key);try{for(l.s();!(a=l.n()).done;)r(a.value)}catch(e){l.e(e)}finally{l.f()}}else r()},r=0;r<e.data.store.length;r++)i(r);return e.sort?n.sort(e.sort):n}var u;function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=void 0===(S=e.name)?"Search":S,n=void 0===(w=e.selector)?"#autoComplete":w,i=void 0!==(D=e.observer)&&D,o=($=e.data).src,r=$.key,s=void 0!==(_=$.cache)&&_,a=$.store,l=$.results,u=e.query,d=void 0===(k=(O=void 0===(O=e.trigger)?{}:O).event)?["input"]:k,h=void 0!==(E=O.condition)&&E,p=void 0===(A=e.searchEngine)?"strict":A,f=void 0!==(x=e.diacritics)&&x,m=void 0===(j=e.threshold)?1:j,v=void 0===(I=e.debounce)?0:I,g=void 0===(L=(T=void 0===(T=e.resultsList)?{}:T).render)||L,y=void 0!==(C=T.container)&&C,b=T.destination,w=void 0===(S=T.position)?"afterend":S,_=void 0===(D=T.element)?"ul":D,k=void 0===($=T.idName)?"autoComplete_list":$,E=void 0===(O=T.className)?"autoComplete_list":O,x=void 0!==(A=T.navigation)&&A,I=void 0!==(j=e.sort)&&j,L=e.placeHolder,S=void 0===(C=e.maxResults)?5:C,O=void 0!==($=(D=void 0===(D=e.resultItem)?{}:D).content)&&$,A=void 0===(T=D.element)?"li":T,C=void 0===(j=D.idName)?"autoComplete_result":j,T=void 0===($=D.className)?"autoComplete_result":$,j=e.noResults,$=void 0!==(D=e.highlight)&&D,D=e.feedback;e=e.onSelection;this.name=t,this.selector=n,this.observer=i,this.data={src:o,key:r,cache:s,store:a,results:l},this.query=u,this.trigger={event:d,condition:h},this.searchEngine=p,this.diacritics=f,this.threshold=m,this.debounce=v,this.resultsList={render:g,container:y,destination:b||this.selector,position:w,element:_,idName:k,className:E,navigation:x},this.sort=I,this.placeHolder=L,this.maxResults=S,this.resultItem={content:O,element:A,idName:C,className:T},this.noResults=j,this.highlight=$,this.feedback=D,this.onSelection=e,this.inputField="string"==typeof this.selector?document.querySelector(this.selector):this.selector(),this.observer?this.preInit():this.init()}return u=[{key:"start",value:function(e,t){var i=this,o=this.data.results?this.data.results(l(this,t)):l(this,t);t={input:e,query:t,matches:o,results:o.slice(0,this.maxResults)};return a(this.inputField,t,"results"),o.length?this.resultsList.render?(o.length&&s(this,t,o),a(this.inputField,t,"rendered"),function(e,t){function i(e,i,r,l){e.preventDefault(),r?o++:o--,s(i),l.inputField.setAttribute("aria-activedescendant",i[o].id),a(e.srcElement,n(n({event:e},t),{},{selection:t.results[o]}),"navigation")}var o=-1,s=function(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].removeAttribute("aria-selected"),e[t].classList.remove("autoComplete_selected")}(e),e[o=(o=o>=e.length?0:o)<0?e.length-1:o].setAttribute("aria-selected","true"),e[o].classList.add("autoComplete_selected")},l=e.resultsList.navigation||function(t){var n=document.getElementById(e.resultsList.idName);if(!n)return e.inputField.removeEventListener("keydown",l);n=n.getElementsByTagName(e.resultItem.element),27===t.keyCode?(e.inputField.value="",r(e)):40===t.keyCode||9===t.keyCode?i(t,n,!0,e):38===t.keyCode||9===t.keyCode?i(t,n,!1,e):13===t.keyCode&&(t.preventDefault(),-1<o&&n&&n[o].click())};e.inputField.autoCompleteNavigate&&e.inputField.removeEventListener("keydown",e.inputField.autoCompleteNavigate),e.inputField.autoCompleteNavigate=l,e.inputField.addEventListener("keydown",l)}(this,t),void document.addEventListener("click",(function(e){return r(i,e.target)}))):this.feedback(t):this.noResults?this.noResults(t,s):null}},{key:"dataStore",value:function(){var e=this;return new Promise((function(t,n){return e.data.cache&&e.data.store?t(null):new Promise((function(t,n){return"function"==typeof e.data.src?e.data.src().then(t,n):t(e.data.src)})).then((function(i){try{return e.data.store=i,a(e.inputField,e.data.store,"fetch"),t()}catch(e){return n(e)}}),n)}))}},{key:"compose",value:function(){var e=this;return new Promise((function(t,n){var i,o,s,a;function l(){return t()}return a=e.inputField,s=i=(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement?a.value:a.innerHTML).toLowerCase(),o=(a=e).query&&a.query.manipulate?a.query.manipulate(s):a.diacritics?s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):s,a=o,((s=e).trigger.condition?s.trigger.condition(a):a.length>=s.threshold&&a.replace(/ /g,"").length)?e.dataStore().then((function(t){try{return r(e),e.start(i,o),l.call(e)}catch(e){return n(e)}}),n):(r(e),l.call(e))}))}},{key:"init",value:function(){var e,t,n,i,o=this;(e=this).inputField.setAttribute("type","text"),e.inputField.setAttribute("role","combobox"),e.inputField.setAttribute("aria-haspopup",!0),e.inputField.setAttribute("aria-expanded",!1),e.inputField.setAttribute("aria-controls",e.resultsList.idName),e.inputField.setAttribute("aria-autocomplete","both"),this.placeHolder&&this.inputField.setAttribute("placeholder",this.placeHolder),this.hook=(t=function(){o.compose()},n=this.debounce,function(){var e=this,o=arguments;clearTimeout(i),i=setTimeout((function(){return t.apply(e,o)}),n)}),this.trigger.event.forEach((function(e){o.inputField.removeEventListener(e,o.hook),o.inputField.addEventListener(e,o.hook)})),a(this.inputField,null,"init")}},{key:"preInit",value:function(){var e=this;new MutationObserver((function(t,n){var i,r=o(t);try{for(r.s();!(i=r.n()).done;)i.value,e.inputField&&(n.disconnect(),a(e.inputField,null,"connect"),e.init())}catch(e){r.e(e)}finally{r.f()}})).observe(document,{childList:!0,subtree:!0})}},{key:"unInit",value:function(){this.inputField.removeEventListener("input",this.hook),a(this.inputField,null,"unInit")}}],e(c.prototype,u),c},"object"==typeof it?it=nt():"function"==typeof define&&define.amd?define(nt):(tt="undefined"!=typeof globalThis?globalThis:tt||self).autoComplete=nt();var ht,pt={},ft="object"==typeof Reflect?Reflect:null,mt=ft&&"function"==typeof ft.apply?ft.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};ht=ft&&"function"==typeof ft.ownKeys?ft.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var vt=Number.isNaN||function(e){return e!=e};function gt(){gt.init.call(this)}(pt=gt).once=function(e,t){return new Promise((function(n,i){function o(n){e.removeListener(t,r),i(n)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}St(e,t,r,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&St(e,"error",t,n)}(e,o,{once:!0})}))},gt.EventEmitter=gt,gt.prototype._events=void 0,gt.prototype._eventsCount=0,gt.prototype._maxListeners=void 0;var yt=10;function bt(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function wt(e){return void 0===e._maxListeners?gt.defaultMaxListeners:e._maxListeners}function _t(e,t,n,i){var o,r,s,a;if(bt(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),s=r[t]),void 0===s)s=r[t]=n,++e._eventsCount;else if("function"==typeof s?s=r[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(o=wt(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function kt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=kt.bind(i);return o.listener=n,i.wrapFn=o,o}function xt(e,t,n){var i=e._events;if(void 0===i)return[];var o=i[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):Lt(o,o.length)}function It(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Lt(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function St(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(r){i.once&&e.removeEventListener(t,o),n(r)}))}}Object.defineProperty(gt,"defaultMaxListeners",{enumerable:!0,get:function(){return yt},set:function(e){if("number"!=typeof e||e<0||vt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");yt=e}}),gt.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gt.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||vt(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},gt.prototype.getMaxListeners=function(){return wt(this)},gt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var s=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw s.context=r,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)mt(a,this,t);else{var l=a.length,u=Lt(a,l);for(n=0;n<l;++n)mt(u[n],this,t)}return!0},gt.prototype.addListener=function(e,t){return _t(this,e,t,!1)},gt.prototype.on=gt.prototype.addListener,gt.prototype.prependListener=function(e,t){return _t(this,e,t,!0)},gt.prototype.once=function(e,t){return bt(t),this.on(e,Et(this,e,t)),this},gt.prototype.prependOnceListener=function(e,t){return bt(t),this.prependListener(e,Et(this,e,t)),this},gt.prototype.removeListener=function(e,t){var n,i,o,r,s;if(bt(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},gt.prototype.off=gt.prototype.removeListener,gt.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},gt.prototype.listeners=function(e){return xt(this,e,!0)},gt.prototype.rawListeners=function(e){return xt(this,e,!1)},gt.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):It.call(e,t)},gt.prototype.listenerCount=It,gt.prototype.eventNames=function(){return this._eventsCount>0?ht(this._events):[]};let Ot={};const At=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(At.source),Tt=document.createElement("div"),jt={containerTokenfield:'<div class="tokenfield tokenfield-mode-tokens">\n      <input class="tokenfield-copy-helper"\n        style="display:none;position:fixed;top:-1000px;right:1000px;"\n        tabindex="-1"\n        type="text"\n      />\n      <div class="tokenfield-set">\n        <ul></ul>\n      </div>\n      <input class="tokenfield-input" />\n      <div class="tokenfield-suggest">\n        <ul class="tokenfield-suggest-list"></ul>\n      </div>\n    </div>',containerList:'<div class="tokenfield tokenfield-mode-list">\n      <input class="tokenfield-input" />\n      <div class="tokenfield-suggest">\n        <ul class="tokenfield-suggest-list"></ul>\n      </div>\n      <div class="tokenfield-set">\n        <ul></ul>\n      </div>\n    </div>',suggestItem:'<li class="tokenfield-suggest-item"></li>',setItem:'<li class="tokenfield-set-item">\n      <span class="item-label"></span>\n      <a href="#" class="item-remove" tabindex="-1">×</a>\n      <input class="item-input" type="hidden" />\n    </li>'};function $t(){return(65536*(1+Math.random())|0).toString(16)+(65536*(1+Math.random())|0).toString(16)}function Dt(e,t){return e.indexOf(t)>=0}function Mt(e){return e.nodeName?e:"string"==typeof e?document.querySelector(e):null}function Pt(e,t){return e.nodeName?e:(e=e.replace(/(\t|\n$)/g,""),Tt.innerHTML="",Tt.innerHTML=e,!0===t?Tt.childNodes:Tt.childNodes[0])}function Nt(e){return e.key||e.keyIdentifier?e.key||String.fromCharCode(parseInt(e.keyIdentifier.substr(2),16)):null}var Rt=function(e){"use strict";function t(){var e;return rt(this,t),st(ot(e=dt(this,lt(t).apply(this,arguments))),"_renderItem",(function(t,n){var i=e._options,o=e.renderSetItemHtml(t),r=o.querySelector(".item-label"),s=o.querySelector(".item-input"),a=o.querySelector(".item-remove");return o.key=t[e.key],a.key=t[e.key],s.setAttribute("name",t.isNew?i.newItemName:i.itemName),s.value=t[t.isNew?i.newItemValue:i.itemValue]||null,r.textContent=e.renderSetItemLabel(t),t.focused&&o.classList.add("focused"),o})),e}return ct(t,e),t}(class extends(t(pt)){constructor(e={}){super();let{_defaults:t,_options:n}={_defaults:{focusedItem:null,cache:{},timer:null,xhr:null,suggested:!1,suggestedItems:[],setItems:[],events:{},delimiters:{}},_options:{el:null,form:!0,mode:"tokenfield",addItemOnBlur:!1,addItemsOnPaste:!1,keepItemsOrder:!0,setItems:[],items:[],newItems:!0,multiple:!0,maxItems:0,minLength:0,keys:{17:"ctrl",16:"shift",91:"meta",8:"delete",27:"esc",37:"left",38:"up",39:"right",40:"down",46:"delete",65:"select",67:"copy",88:"cut",9:"delimiter",13:"delimiter",108:"delimiter"},matchRegex:"{value}",matchFlags:"i",matchStart:!1,matchEnd:!1,delimiters:[],copyProperty:"name",copyDelimiter:", ",remote:{type:"GET",url:null,queryParam:"q",delay:300,timestampParam:"t",params:{},headers:{}},placeholder:null,inputType:"text",minChars:2,maxSuggest:10,maxSuggestWindow:10,filterSetItems:!0,filterMatchCase:!1,singleInput:!1,singleInputValue:"id",singleInputDelimiter:", ",itemLabel:"name",itemName:"items",newItemName:"items_new",itemValue:"id",newItemValue:"name",itemData:"name",validateNewItem:null}};this.id=$t(),this.key=`key_${this.id}`,this._vars=Object.assign({},t),this._options=Object.assign({},n,e),this._options.keys=Object.assign({},n.keys,e.keys),this._options.remote=Object.assign({},n.remote,e.remote),this._templates=Object.assign({},jt,e.templates),this._vars.setItems=this._prepareData(this.remapData(this._options.setItems||[])),this._focused=!1,this._input=null,this._form=!1,this._html={};let i=this._options;i.delimiters.forEach((e=>{this._vars.delimiters[e]=!0}));let o=Mt(i.el);if(!o)throw new Error(`Selector: DOM Element ${i.el} not found.`);if(this.el=o,i.singleInput){let e=Mt(i.singleInput);this._input=e||this.el}if(this.el.tokenfield=this,null===i.placeholder&&(i.placeholder=i.el.placeholder||""),!i.form)throw new Error("Cannot create tokenfield without DOM Element.");{let e=!1;if(i.form.nodeName)e=i.form;else if(!0===i.form){let t=this.el;for(;t.parentNode;){if("FORM"===t.nodeName){e=t;break}t=t.parentNode}}else if("string"==typeof e&&(e=document.querySelector(e),!e))throw new Error(`Selector: DOM Element ${i.form} not found.`);this._form=e}Ot[this.id]=this,this._render()}_render(){let e=this._options,t=this._html;return"tokenfield"===e.mode?t.container=Pt(this._templates.containerTokenfield):t.container=Pt(this._templates.containerList),t.suggest=t.container.querySelector(".tokenfield-suggest"),t.suggestList=t.container.querySelector(".tokenfield-suggest-list"),t.items=t.container.querySelector(".tokenfield-set > ul"),t.input=t.container.querySelector(".tokenfield-input"),t.input.setAttribute("type",e.inputType),"tokenfield"===e.mode?t.input.placeholder=this._vars.setItems.length?"":e.placeholder:t.input.placeholder=e.placeholder,t.copyHelper=t.container.querySelector(".tokenfield-copy-helper"),e.el.style.display="none",t.suggest.style.display="none",this._renderSizer(),t.container.tokenfield=this,e.el.parentElement.insertBefore(t.container,e.el),t.container.insertBefore(e.el,t.container.firstChild),this._setEvents(),this._renderItems(),"tokenfield"===e.mode&&this._resizeInput(),this}_renderSizer(){let e=this._html,t=this._getBounds(),n=window.getComputedStyle(e.container),i=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10),o={width:"auto",height:"auto",overflow:"hidden",whiteSpace:"pre",maxWidth:t.width-i+"px",position:"fixed",top:"-10000px",left:"10000px",fontSize:n.fontSize,paddingLeft:n.paddingLeft,paddingRight:n.paddingRight};e.sizer=document.createElement("div"),e.sizer.id="tokenfield-sizer-"+this.id;for(let t in o)e.sizer.style[t]=o[t];e.container.appendChild(e.sizer)}_minimizeInput(){return this._html.input.style.width="20px",this}_refreshInput(e=!0){let t=this._vars,n=this._html;if(e&&(n.input.value=""),"tokenfield"===this._options.mode){this._resizeInput();let e=t.setItems.length?"":this._options.placeholder;n.input.setAttribute("placeholder",e)}else"list"===this._options.mode&&n.input.setAttribute("placeholder",this._options.placeholder);return this}_resizeInput(e=""){let t=this._html,n=this._getBounds(),i=window.getComputedStyle(t.container),o=parseInt(i.paddingRight,10)+parseInt(i.borderRightWidth,10),r=o+parseInt(i.paddingLeft,10)+parseInt(i.borderLeftWidth,10);if(t.sizer.innerHTML=e,t.sizer.style.maxWidth=n.width-o+"px",0===n.width)return void(t.input.style.width="100%");t.input.style.width="20px";let s=t.sizer.getBoundingClientRect(),a=t.input.getBoundingClientRect(),l=n.width-(a.left-n.left)-o;s.width>l?t.input.style.width=n.width-r-1+"px":t.input.style.width=l-1+"px"}_fetchData(e){let t=this._vars,n=this._options,i=n.remote,o=Object.assign({},n.params);for(let e in i.params)o[e]=i.params[e];i.limit&&(o[i.limit]=n.remote.limit),o[i.queryParam]=e,o[i.timestampParam]=Math.round((new Date).getTime()/1e3),t.xhr=function(e,t={},n=null){let i=new XMLHttpRequest,o=t.url,r=[];for(let t in e)r.push(`${t}=${encodeURIComponent(e[t])}`);let s=r.join("&");"get"===t.type.toLowerCase()&&(o+="?"+s),i.open(t.type,o,!0);for(let n in t.headers){let o=t.headers[n];"function"==typeof o&&(o=o(e,t)),i.setRequestHeader(n,o)}return n&&(i.onreadystatechange=n),i.send(e),i}(o,n.remote,(()=>{if(t.xhr&&4==t.xhr.readyState){if(200==t.xhr.status){let i=JSON.parse(t.xhr.responseText);t.cache[e]=i;let o=this._prepareData(this.remapData(i)),r=this._filterData(e,o);t.suggestedItems=n.filterSetItems?this._filterSetItems(r):r,this.showSuggestions()}else if(t.xhr.status>0)throw new Error("Error while loading remote data.");this._abortXhr()}}))}remapData(e){return e}_prepareData(e){return e.map((e=>Object.assign({},e,{[this.key]:$t()})))}_filterData(e,t){let n=this._options,i=n.matchRegex.replace("{value}",(o=function(e){if("string"==typeof e)return e;if(null===e)return"";let t=e+"";return"0"===t&&1/e==-1/0?"-0":t}(o=e))&&Ct.test(o)?o.replace(At,"\\$&"):o);var o;n.matchStart?i="^"+i:n.matchEnd&&(i+="$");let r=new RegExp(i,n.matchFlags);return t.filter((e=>r.test(e[n.itemData])))}_abortXhr(){let e=this._vars;null!==e.xhr&&(e.xhr.abort(),e.xhr=null)}_filterSetItems(e){const t=this._options.itemValue;let n=this._vars;if(!n.setItems.length)return e;let i=n.setItems.map((e=>e[t]));return e.filter((e=>-1===i.indexOf(e[t])))}_setEvents(){let e=this._vars,t=this._html;e.events.onClick=this._onClick.bind(this),e.events.onMouseDown=this._onMouseDown.bind(this),e.events.onMouseOver=this._onMouseOver.bind(this),e.events.onFocus=this._onFocus.bind(this),e.events.onResize=this._onResize.bind(this),e.events.onReset=this._onReset.bind(this),e.events.onKeyDown=this._onKeyDown.bind(this),e.events.onFocusOut=this._onFocusOut.bind(this),t.container.addEventListener("click",e.events.onClick),1===Object.keys(Ot).length&&(document.addEventListener("mousedown",e.events.onMouseDown),window.addEventListener("resize",e.events.onResize)),this._form&&this._form.nodeName&&this._form.addEventListener("reset",e.events.onReset),t.suggestList.addEventListener("mouseover",e.events.onMouseOver),t.input.addEventListener("focus",e.events.onFocus)}_onMouseOver(e){let t=e.target;if(t.classList.contains("tokenfield-suggest-item")){[].slice.call(this._html.suggestList.querySelectorAll(".selected")).forEach((e=>{e!==t&&e.classList.remove("selected")})),t.classList.add("selected"),this._selectItem(t.key,!1),this._refreshItemsSelection()}}_onReset(){this.setItems(this._options.setItems)}_onFocus(){let e=this._vars,t=this._html,n=this._options;t.input.removeEventListener("keydown",e.events.onKeyDown),t.input.addEventListener("keydown",e.events.onKeyDown),t.input.addEventListener("focusout",e.events.onFocusOut),n.addItemsOnPaste&&(e.events.onPaste=this._onPaste.bind(this),t.input.addEventListener("paste",e.events.onPaste)),this._focused=!0,this._html.container.classList.add("focused"),this._resizeInput(),t.input.value.trim().length>=n.minChars&&this.showSuggestions()}_onFocusOut(e){let t=this._vars,n=this._options,i=this._html;if(i.input.removeEventListener("keydown",t.events.onKeyDown),i.input.removeEventListener("focusout",t.events.onFocusOut),void 0!==t.events.onPaste&&i.input.removeEventListener("paste",t.events.onPaste),e.relatedTarget&&e.relatedTarget===i.copyHelper)return;let o=n.multiple&&!n.maxItems||!n.multiple&&!t.setItems.length||n.multiple&&n.maxItems&&t.setItems.length<n.maxItems;this._focused&&n.addItemOnBlur&&o&&this._newItem(i.input.value)?this._renderItems()._refreshInput():this._defocusItems()._renderItems(),this._focused=!1,this._html.container.classList.remove("focused")}_onMouseDown(e){let t=null;for(let n in Ot)if(Ot[n]._html.container.contains(e.target)){t=Ot[n];break}if(t){for(let e in Ot)e!==t.id&&(Ot[e].hideSuggestions(),Ot[e].blur());e.target!==t._html.input&&e.preventDefault()}else for(let e in Ot)Ot[e].hideSuggestions(),Ot[e].blur()}_onResize(){for(let e in Ot)Ot[e]._resizeInput(Ot[e]._html.input.value)}_onPaste(e){let t=this._vars,n=this._options,i=e.clipboardData.getData("text"),o=[i];if(n.delimiters.length){let e=n.delimiters.join("|"),t=new RegExp(`(${e})`,"ig");o=i.split(t)}o.map((e=>e.trim())).filter((e=>e.length>0&&e.length>=n.minLength&&void 0===t.delimiters[e])).map((e=>this._newItem(e))).length&&(setTimeout((()=>{this._renderItems()._refreshInput()._deselectItems().hideSuggestions()}),1),e.preventDefault())}_onKeyDown(e){let t=this._vars,n=this._options,i=this._html;n.maxItems&&t.setItems.length>=n.maxItems&&e.preventDefault(),"tokenfield"===n.mode&&setTimeout((()=>{this._resizeInput(i.input.value)}),1);let o=Nt(e);if(void 0!==n.keys[e.keyCode]||Dt(n.delimiters,o)){if(this._keyAction(e))return!0}else this._defocusItems()._refreshItems();clearTimeout(t.timer),this._abortXhr(),(!n.maxItems||t.setItems.length<n.maxItems)&&setTimeout((()=>{this._keyInput(e)}),1)}_keyAction(e){this.key;let t=null,n=this._vars,i=this._options,o=this._html,r=i.keys[e.keyCode],s=o.input.value.trim(),a=Nt(e);Dt(i.delimiters,a)&&void 0===r&&(r="delimiter");let l=this._getSelectedItems();switch(l.length&&(t=l[0]),r){case"esc":this._deselectItems()._defocusItems()._renderItems().hideSuggestions();break;case"up":this._vars.suggested&&(this._selectPrevItem()._refreshItemsSelection(),e.preventDefault()),this._defocusItems()._renderItems();break;case"down":this._vars.suggested&&(this._selectNextItem()._refreshItemsSelection(),e.preventDefault()),this._defocusItems()._renderItems();break;case"left":(this.getFocusedItems().length||!o.input.selectionStart&&!o.input.selectionEnd)&&(this._focusPrevItem(e.shiftKey),e.preventDefault());break;case"right":(this.getFocusedItems().length||o.input.selectionStart===s.length)&&(this._focusNextItem(e.shiftKey),e.preventDefault());break;case"delimiter":if(this._abortXhr(),this._defocusItems(),!i.multiple&&n.setItems.length>=1)return!1;s=this.onInput(s,e),t?this._addItem(t):s.length&&(t=this._newItem(s)),t&&this._minimizeInput()._renderItems().focus()._refreshInput()._refreshSuggestions()._deselectItems(),e.preventDefault();break;case"select":if(s.length||!e.ctrlKey&&!e.metaKey)return!1;this._vars.setItems.forEach((e=>{e.focused=!0})),this._refreshItems();break;case"cut":if(!this.getFocusedItems().length||!e.ctrlKey&&!e.metaKey)return!1;this._copy()._delete(e);break;case"copy":if(!this.getFocusedItems().length||!e.ctrlKey&&!e.metaKey)return!1;this._copy();break;case"delete":{this._abortXhr();let t=this.getFocusedItems();!o.input.selectionEnd&&8===e.keyCode||o.input.selectionStart===s.length&&46===e.keyCode||t.length?this._delete(e):n.timer=setTimeout((()=>{this._keyInput(e)}),i.delay);break}}return!0}_copy(){let e=this._options,t=this._html,n=this.getFocusedItems().map((t=>t[e.copyProperty])).join(e.copyDelimiter);return t.copyHelper.style.display="block",t.copyHelper.value=n,t.copyHelper.focus(),t.copyHelper.select(),document.execCommand("copy"),t.copyHelper.style.display="none",t.copyHelper.value="",t.input.focus(),this}_delete(e){let t=this._vars,n=this._options;const i=this.key;let o=this._html,r=this.getFocusedItems();return"tokenfield"===n.mode&&t.setItems.length?r.length?(r.forEach((e=>{this._removeItem(e[i])})),this._refreshSuggestions()._keyInput(e)):o.input.selectionStart||this._focusItem(t.setItems[t.setItems.length-1][i]):r.length&&(r.forEach((e=>{this._removeItem(e[i])})),this._refreshSuggestions()._keyInput(e)),this._minimizeInput()._renderItems()._refreshInput(!1),this}_keyInput(e){let t=this._vars,n=this._options,i=this._html;this._defocusItems()._refreshItems();const o=this.onInput(i.input.value.trim(),e);if("keydown"===e.type&&this.emit("input",this,o,e),o.length<n.minChars)return this.hideSuggestions(),!1;if(!n.multiple&&t.setItems.length>=1)return!1;if(void 0===t.cache[o]){if(n.remote.url)t.timer=setTimeout((()=>{this._fetchData(o)}),n.delay);else if(!n.remote.url&&n.items.length){let e=this._prepareData(n.items),i=this._filterData(o,e);t.suggestedItems=n.filterSetItems?this._filterSetItems(i):i,this.showSuggestions()}}else{let e=this._prepareData(this.remapData(t.cache[o])),i=this._filterData(o,e);t.suggestedItems=n.filterSetItems?this._filterSetItems(i):i,this.showSuggestions()}return this}_onClick(e){let t=e.target;if(t.classList.contains("item-remove"))e.preventDefault(),this._removeItem(t.key)._defocusItems()._minimizeInput()._renderItems()._refreshInput(!1)._keyInput(e);else if(t.classList.contains("tokenfield-suggest-item")){let e=this._getSuggestedItem(t.key);this._addItem(e)._minimizeInput()._renderItems()._refreshInput()._refreshSuggestions()}else{let n=function(e){let t=[e];for(;e.parentNode;)e=e.parentNode,t.push(e);return t}(t).filter((e=>e.classList&&e.classList.contains("tokenfield-set-item")))[0];n?(this._focusItem(n.key,e.shiftKey,e.ctrlKey||e.metaKey,!0),this._refreshItems()):this._keyInput(e)}this.focus()}_selectPrevItem(){const e=this.key,t=this._options;let n=this._vars.suggestedItems,i=this._getSelectedItemIndex();return n.length?(null!==i?0===i?t.newItems?this._deselectItems():this._selectItem(n[n.length-1][e]):this._selectItem(n[i-1][e]):this._selectItem(n[n.length-1][e]),this):this}_selectNextItem(){const e=this.key,t=this._options;let n=this._vars.suggestedItems,i=this._getSelectedItemIndex();return n.length?(null!==i?i===n.length-1?t.newItems?this._deselectItems():this._selectItem(n[0][e]):this._selectItem(n[i+1][e]):this._selectItem(n[0][e]),this):this}_focusPrevItem(e=!1){const t=this.key;let n=this._vars.setItems,i=this._getFocusedItemIndex();if(!n.length)return this;if(null!==i)if(0!==i||e)if(0===i&&e){let e=this._getFocusedItemIndex(!0);this._defocusItem(n[e][t])}else this._focusItem(n[i-1][t],e,!1,!0);else this._defocusItems();else this._focusItem(n[n.length-1][t],!1,!1,!0);return this._refreshItems(),this}_focusNextItem(e=!1){const t=this.key;let n=this._vars.setItems,i=this._getFocusedItemIndex(!0);return n.length?(null!==i?i!==n.length-1||e?i===n.length-1&&e?this._focusItem(n[0][t],e):this._focusItem(n[i+1][t],e):this._defocusItems():this._focusItem(n[0][t],!1),this._refreshItems(),this):this}_getSelectedItems(){const e=this.key;let t=this._vars.setItems.map((t=>t[e]));return this._vars.suggestedItems.filter((n=>n.selected&&t.indexOf(n[e])<0))}_selectItem(e,t=!1){this._vars.suggestedItems.forEach((n=>{if(n.selected=n[this.key]===e,n.selected&&t){let e=parseInt(this._html.suggest.style.maxHeight,10);if(e){let t=this._html.suggestList.getBoundingClientRect(),i=n.el.getBoundingClientRect(),o=i.top-t.top,r=o+i.height;r>=e+this._html.suggest.scrollTop?this._html.suggest.scrollTop=r-e:o<this._html.suggest.scrollTop&&(this._html.suggest.scrollTop=o)}}}))}_deselectItem(e){return this._vars.suggestedItems.every((t=>t[this.key]!==e||(t.selected=!1,!1))),this}_deselectItems(){return this._vars.suggestedItems.forEach((e=>{e.selected=!1})),this}_refreshItemsSelection(){this._vars.suggestedItems.forEach((e=>{e.selected&&e.el?e.el.classList.add("selected"):e.el&&e.el.classList.remove("selected")}))}_getSelectedItemIndex(){let e=null;return this._vars.suggestedItems.every(((t,n)=>!t.selected||(e=n,!1))),e}_getFocusedItemIndex(e=!1){let t=null;return this._vars.setItems.every(((n,i)=>!(n.focused&&(t=i,!e)))),t}_getItem(e,t=null){null===t&&(t=this.key);let n=this._filterItems(this._vars.setItems,e,t);return n.length?n[0]:null}_getSuggestedItem(e,t=null){null===t&&(t=this.key);let n=this._filterItems(this._vars.suggestedItems,e,t);return n.length?n[0]:null}_getAvailableItem(e,t=null){null===t&&(t=this.key);let n=this._filterItems(this._options.items,e,t);return n.length?n[0]:null}_filterItems(e,t,n){const i=this._options.filterMatchCase;return e.filter((e=>"string"==typeof e[n]&&"string"==typeof t?i?e[n]===t:e[n].toLowerCase()==t.toLowerCase():e[n]==t))}_removeItem(e){return this._vars.setItems.every(((t,n)=>t[this.key]!==e||(this.emit("removeToken",this,t),this._vars.setItems.splice(n,1),this.emit("removedToken",this,t),this.emit("change",this),!1))),this}_addItem(e){e.focused=!1;let t=this._options;if((e.isNew&&!this._getItem(e[t.itemData],t.itemData)||!this._getItem(e[t.itemValue],t.itemValue))&&(this.emit("addToken",this,e),!this._options.maxItems||this._options.maxItems&&this._vars.setItems.length<this._options.maxItems)){e.selected=!1;let t=Object.assign({},e);this._vars.setItems.push(t),this.emit("addedToken",this,t),this.emit("change",this)}return this}getFocusedItem(){let e=this._vars.setItems.filter((e=>e.focused))[0];return e.length?e[0]:null}getFocusedItems(){return this._vars.setItems.filter((e=>e.focused))}_focusItem(e,t=!1,n=!1,i=!1){if(t){let t=null,n=null,o=null,r=this._vars.setItems.length;if(this._vars.setItems.forEach(((i,r)=>{i[this.key]===e&&(o=r),null===t&&i.focused&&(t=r),i.focused&&(n=r)})),(0===o||o===r-1)&&null===t&&null===n)return;null===t&&null===n?this._vars.setItems[o].focused=!0:0!==o||n!==r-1||i?(t=Math.min(o,t),n=Math.max(o,n),this._vars.setItems.forEach(((e,i)=>{e.focused=o===i||i>=t&&i<=n}))):this._vars.setItems[t].focused=!1}else this._vars.setItems.forEach((t=>{t.focused=n?t[this.key]===e?!t.focused:t.focused:t[this.key]===e}));return this}_defocusItem(e){return this._vars.setItems.filter((t=>{t[this.key]===e&&(t.focused=!1)}))}_defocusItems(){return this._vars.setItems.forEach((e=>{e.focused=!1})),this}_newItem(e){let t=this._options;if("string"==typeof e&&(!e.length||e.length<t.minLength))return null;let n=this._getItem(e,t.itemData)||this._getSuggestedItem(e,t.itemData)||this._getAvailableItem(e,t.itemData);if(!n&&t.newItems){if("function"==typeof t.validateNewItem&&!t.validateNewItem(e))return null;n={isNew:!0,[this.key]:$t(),[t.itemData]:e},this.emit("newToken",this,n)}return n?(this._addItem(n),n):null}_buildEl(e){return Pt(e)}_getBounds(){return this._html.container.getBoundingClientRect()}_renderItems(){let e=this._vars,t=this._options,n=this._html;return n.items.innerHTML="",e.setItems.forEach(((e,t)=>{let i=this._renderItem(e,t);n.items.appendChild(i),e.el=i,e.focused?e.el.classList.add("focused"):e.el.classList.remove("focused")})),e.setItems.length>1&&"tokenfield"===t.mode?n.input.setAttribute("placeholder",""):"list"===t.mode&&n.input.setAttribute("placeholder",t.placeholder),this._input&&(this._input.value=e.setItems.map((e=>e[t.singleInputValue])).join(t.singleInputDelimiter)),this}_refreshItems(){this._vars.setItems.forEach((e=>{e.el&&(e.focused?e.el.classList.add("focused"):e.el.classList.remove("focused"))}))}_renderItem(e,t){let n=this._options,i=this.renderSetItemHtml(e),o=i.querySelector(".item-label"),r=i.querySelector(".item-input"),s=i.querySelector(".item-remove"),a=n.keepItemsOrder?`[${t}]`:"[]";return i.key=e[this.key],s.key=e[this.key],r.setAttribute("name",(e.isNew?n.newItemName:n.itemName)+a),r.value=e[e.isNew?n.newItemValue:n.itemValue]||null,o.textContent=this.renderSetItemLabel(e),e.focused&&i.classList.add("focused"),i}onInput(e,t){return e}renderSetItemHtml(){return this._buildEl(this._templates.setItem)}renderSetItemLabel(e){return e[this._options.itemLabel]}renderSuggestions(e){let t=this._vars,n=this._options,i=this._html,o=this._getSelectedItemIndex();if(!e.length)return this;if(0===n.maxSuggestWindow&&(i.suggest.style.maxHeight=null),!t.suggestedItems.length)return this;n.newItems||null!==o||(e[0].selected=!0);let r=0;e.every(((e,t)=>{if(t>=n.maxSuggest)return!1;let o=i.suggestList.childNodes[t],s=e.el=this.renderSuggestedItem(e);return o?o.itemValue===e[n.itemValue]?(o.key=e[this.key],e.el=o):i.suggestList.replaceChild(s,o):o||i.suggestList.appendChild(s),n.maxSuggestWindow>0&&t<n.maxSuggestWindow&&(r+=i.suggestList.childNodes[t].getBoundingClientRect().height),n.maxSuggestWindow>0&&t===n.maxSuggestWindow&&(i.suggest.style.maxHeight=r+"px"),!0}));let s=i.suggestList.childElementCount-e.length;if(s>0)for(let t=s-1;t>=0;t--)i.suggestList.removeChild(i.suggestList.childNodes[e.length+t]);return this}renderSuggestedItem(e){let t=this._options,n=this._buildEl(this._templates.suggestItem);if(n.key=e[this.key],n.itemValue=e[t.itemValue],n.innerHTML=this.renderSuggestedItemContent(e),n.setAttribute("title",e[t.itemData]),e.selected&&n.classList.add("selected"),!t.filterSetItems){(this._getItem(e[t.itemValue],t.itemValue)||this._getItem(e[t.itemData],t.itemData))&&n.classList.add("set")}return n}renderSuggestedItemContent(e){return e[this._options.itemData]}_refreshSuggestions(){let e=this._vars,t=this._options;if(this._html.input.value.length<t.minChars)return this.hideSuggestions(),this;let n=this._prepareData(t.items),i=this._filterData(this._html.input.value,n);return e.suggestedItems=t.filterSetItems?this._filterSetItems(i):i,e.suggestedItems.length&&(!t.maxItems||t.maxItems&&e.setItems.length<t.maxItems)?(this.renderSuggestions(e.suggestedItems),this):(this.hideSuggestions(),this)}showSuggestions(){let e=this._vars,t=this._options;return e.suggestedItems.length?(this.emit("showSuggestions",this),(!t.maxItems||t.maxItems&&e.setItems.length<t.maxItems)&&(this._html.suggest.style.display="block",e.suggested=!0,this.renderSuggestions(e.suggestedItems)),this.emit("shownSuggestions",this)):this.hideSuggestions(),this}hideSuggestions(){return this.emit("hideSuggestions",this),this._vars.suggested=!1,this._html.suggest.style.display="none",this._html.suggestList.innerHTML="",this.emit("hiddenSuggestions",this),this}setSuggestedItems(e){if(!Array.isArray(e))throw new Error("Argument must be an array of objects.");this._options.items=e,this._refreshSuggestions()}getItems(){return this._vars.setItems.map((e=>{let t=Object.assign({},e);return delete t[this.key],delete t.el,t}))}setItems(e=[]){return this._vars.setItems=[],this.addItems(e),this}addItems(e=[]){const t=this._options.itemValue;return Array.isArray(e)||(e=[e]),this._prepareData(e).forEach((e=>{(e.isNew||void 0!==e[t])&&this._addItem(e)})),this._minimizeInput()._renderItems()._refreshInput().hideSuggestions(),this}sortItems(){let e=[];[...this._html.items.childNodes].forEach((t=>{let n=this._getItem(t.key);n&&e.push(n)})),this.setItems(e)}removeItem(e){const t=this._options;"object"==typeof e&&(e[t.itemValue]||e[t.newItemValue])&&(e=e[t.itemValue]||e[t.newItemValue]);let n=this._getItem(e,t.itemValue)||this._getItem(e,t.newItemValue);return n?(this._removeItem(n[this.key])._renderItems(),this):this}emptyItems(){return this._vars.setItems=[],this._renderItems()._refreshInput().hideSuggestions(),this.emit("change",this),this}getSuggestedItems(){return this._vars.suggestedItems.map((e=>Object.assign({},e)))}focus(){return this._html.container.classList.add("focused"),this._focused||this._html.input.focus(),this}blur(){return this._html.container.classList.remove("focused"),this._focused&&this._html.input.blur(),this}remove(){let e=this._html;e.container.parentElement.insertBefore(this.el,e.container),e.container.remove(),this.el.style.display="block",1===Object.keys(Ot).length&&(document.removeEventListener("mousedown",this._vars.events.onMouseDown),window.removeEventListener("resize",this._vars.events.onResize)),this._form&&this._form.nodeName&&this._form.removeEventListener("reset",this._vars.events.onReset),delete Ot[this.id],delete this.el.tokenfield}}),Ht=window.TokenField=Rt;$(document).ready((function(){var e,i;n.initAll(),function(){$("#link-menu").removeAttr("href");var e=document.getElementById("lite-menu");e&&(e.style.display="block",et("#link-menu",{content:e,allowHTML:!0,interactive:!0,animation:"scale-subtle",trigger:"click",theme:"light",placement:"bottom"}),et("*[data-tooltip]",{content:function(e){return e.getAttribute("data-tooltip")},allowHTML:!0,animation:"scale-subtle"}),et(".app-flag--label",{content:function(e){return e.getAttribute("data-label")}}))}(),function(){$("#filter-queues").on("input",(function(){var e=$("#filter-queues").val(),t=!1;$("#queues a").hide(),$("#queues > span").hide(),$("#queues a").each((function(){-1!=$(this).text().toUpperCase().indexOf(e.toUpperCase())&&($(this).show(),t=!0)})),t||$("#queues > span").show()})),$("#link-queue").removeAttr("href");var e=document.getElementById("queues");e&&(e.style.display="block",et("#link-queue",{content:e,allowHTML:!0,interactive:!0,animation:"scale-subtle",trigger:"click",theme:"light",placement:"bottom-start",arrow:null,onShown:function(e){$("#filter-queues").val(""),$("#filter-queues").focus()}}))}(),e=$(".app-flags--list"),i=$("#js-chevron-svg").html(),e.each((function(){var e=$(this).find(".app-flag");if(e.each((function(e){e>2&&$(this).addClass("app-hidden--force").attr("aria-hidden",!0)})),e.length>3){var t=$("<button></button>"),n=$("<span>3 of ".concat(e.length,"</span>"));t.attr({class:"app-flags__expander",type:"button","aria-label":"Show more"}).append(i).append(n),$(this).parent().append(t)}})),$(".app-flags__expander").on("click keypress",(function(e){$(this).prev().find(".app-hidden--force").removeClass("app-hidden--force").attr("aria-hidden",!1).addClass("app-flag--animate"),$(this).attr("aria-hidden",!0).hide()})),function(){var e=function(e){e.parentElement.classList.add("tokenfield-container");for(var t=[],n=[],i=0;i<e.options.length;i++){var o=e.options.item(i),r={id:o.value,name:o.value,classes:[]};o.selected&&n.push(r),t.push(r)}var s=new Ht({el:e,items:t,newItems:!1,addItemOnBlur:!0,filterSetItems:!1,addItemsOnPaste:!0,minChars:1,itemName:e.name,setItems:n,keepItemsOrder:!1});return s._renderItems(),s._html.container.id=e.id,e.remove(),s},n="report_summary",i=document.getElementById(n);i&&new(t(it))({trigger:{event:["input"]},data:{src:function(){var e=i.value.toLowerCase();return fetch("/team/picklists/.json?type=report_summary&name="+e).then((function(e){return e.json().then((function(e){return e.results.map((function(e){return{value:e.name,text:e.text}}))}))}))},key:["value"],cache:!1},selector:"#report_summary",threshold:1,debounce:300,resultsList:{render:!0,element:"table",container:function(e){e.setAttribute("id","autoComplete_list"),i.addEventListener("autoComplete",(function(e){document.addEventListener("click",(function e(){for(var t=document.getElementById("autoComplete_list");t.firstChild;)t.removeChild(t.firstChild);document.removeEventListener("click",e)}))}))}},resultItem:{content:function(e,t){t.innerHTML='<td><div class="govuk-heading-s govuk-!-margin-0">'+e.value.value+'</div><div class="govuk-caption-xs govuk-!-margin-0">'+e.value.text+"</div></td>"},element:"tr"},searchEngine:function(e,t){return t},onSelection:function(e){i.value=e.selection.value.text},maxResults:15});var o=document.getElementById("control_list_entries"),r=document.getElementById("control_rating");if(o||r){r.style.display="none",e(r);var s=document.createElement("div");o.parentElement.appendChild(s),e(o).on("change",(function(e){var t=e.getItems().filter((function(e){return null!==e.name.match(/[a-zA-Z]$/)})).map((function(e){return"<div>"+e.name+" may need an alternative control list entry because of its destination</div>"}));t.length>0?s.innerHTML="<div class='govuk-inset-text'>"+t.join("")+"</div>":s.innerHTML=""}))}}()}))}();
//# sourceMappingURL=main.js.map
